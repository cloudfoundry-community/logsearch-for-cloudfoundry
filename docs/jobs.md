[<- home page](../README.md)
### Jobs

Below you can see Logsearch-for-cloudfoundry [jobs](../jobs) and their description.

| Job | Description | Resources | Deployment |
| --- | ----------- | --------- | ---------- |
| `ingestor_cloudfoundry-firehose` | This job provides _firehose-to-syslog_ util.</br>It retrieves log events from the _firehose_ feature in CloudFoundry and sends them to syslog. | [spec](../jobs/ingestor_cloudfoundry-firehose/spec)</br></br>Packages:</br>[`firehose-to-syslog`](../packages/firehose-to-syslog)</br></br>Src:</br>[`firehose-to-syslog`](../src/github.com/cloudfoundry-community) | Merged to [`ingestor`](../templates/stub.logsearch-for-cf.cf-kibana.yml#L7-L10) job of _Logsearch_ deployment. |
| `logsearch-for-cloudfoundry-filters` | This job compiles</br>1) Logstash parsing rules and configs</br>2) Elasticsearch mappings template</br>3) Kibana saved objects json | [spec](../jobs/logsearch-for-cloudfoundry-filters/spec)</br></br>Packages:</br>[`logsearch-for-cloudfoundry`](../packages/logsearch-for-cloudfoundry-filters)</br></br>Src:</br>[`logsearch-config`](../src/logsearch-config) | 1) Merged to [`parser`](../templates/stub.logsearch-for-cf.cf-kibana.yml#L12-L27) job of _Logsearch_ deployment. Delivered via `logstash_parser.filters` and `logstash_parser.deployment_dictionary` properties.</br>2) Merged to [`maintenance`](../templates/stub.logsearch-for-cf.cf-kibana.yml#L29-L36) job of _Logsearch_ deployment. Delivered via `elasticsearch_config.templates` property.</br>3) Delivered by [`upload-kibana-objects`](../templates/stub.logsearch-for-cf.cf-kibana.yml#L58-L73) job via `kibana_objects.upload_data_files` property. |
| `upload-kibana-objects` | Executes *../\_bulk* query to Elasticsearch with passing Kibana saved objects json as _--data-binary_. | [spec](../jobs/upload-kibana-objects/spec)</br></br>Packages:</br>[`logsearch-for-cloudfoundry`](../packages/logsearch-for-cloudfoundry-filters) (Kibana saved objects compiled json)</br></br>Src:</br>[`logsearch-config`](../src/logsearch-config)</br></br>Run script:</br>[`run`](../jobs/upload-kibana-objects/templates/bin/run) | This is an __errand__ [job](../templates/stub.logsearch-for-cf.cf-kibana.yml#L58-L73).</br></br>Run as: `bosh -d <deployment.yml> run errand upload-kibana-objects` |
| `cf-kibana` (a) | The job provides</br>1) [_cf-cli_](https://github.com/cloudfoundry/cli) package (to interract with CloudFoundry)</br>2) Kibana package with installed _authentication plugin_, [configs and scripts](../jobs/cf-kibana/templates) for deploying Kibana to CloudFoundry</br></br>The run script does the following:</br>* copies _cf-kibana_ package and configs provided by the job</br>* installs Kibana plugins listed in `cf-kibana.plugins` property</br>* connects to CloudFoundry api (`cloudfoundry.api_endpoint`) using _cf-cli_</br>* creates org `cf-kibana.cloudfoundry.system_org` and space `cf-kibana.cloudfoundry.logsearch_space` for Kibana application</br>* creates new OAuth2 client if necessary for Kibana _authentication plugin_</br>* pushes Kibana application to CF |[spec](../jobs/cf-kibana/spec)</br></br>Packages:</br>[`cf-cli`](../packages/cf-cli)</br>[`cf-kibana`](../packages/cf-kibana)</br></br>Src:</br>[`kibana-cf_authentication`](../src/kibana-cf_authentication)</br></br>Run script:</br>[`errand.sh.erb`](../jobs/cf-kibana/templates/errand.sh.erb) | This is an __errand__ [job](../templates/stub.logsearch-for-cf.cf-kibana.yml#L38-L45).</br></br>Run as: `bosh -d <deployment.yml> run errand cf-kibana` |
| `create-uaa-client` (b) | Creates new OAuth2 client for Kibana _authentication plugin_. |[spec](../jobs/create-uaa-client/spec)</br></br>Run script:</br>[`run`](../jobs/create-uaa-client/templates/bin/run) | This is an __errand__ [job](../templates/stub.logsearch-for-cf.standalone-kibana-with-auth.yml#L49-L66).</br></br>Run as: `bosh -d <deployment.yml> run errand create-uaa-client` |
| `kibana-auth-plugin` (b) | The job is used to delivery Kibana _authentication plugin_ when deploying Kibana as standalone instance.</br></br>The job provides Kibana _authentication plugin_ archive. | [spec](../jobs/kibana-auth-plugin/spec)</br></br>Packages:</br>[`kibana-auth-plugin`](../packages/kibana-auth-plugin)</br></br>Src:</br>[`kibana-cf_authentication`](../src/kibana-cf_authentication) | Merged to [`kibana`](../templates/stub.logsearch-for-cf.standalone-kibana-with-auth.yml#L85-L103) job of _Logsearch_ deployment. Delivered via `kibana.plugins` property. |
| `smoke-tests` | The job provides</br>1) [_cf-cli_](https://github.com/cloudfoundry/cli) package (to interract with CloudFoundry)</br>2) [_golang_](https://golang.org/) package</br>3) smoke tests for Logsearch-for-cloudfoundry | [spec](../jobs/smoke-tests/spec)</br></br>Packages:</br>[`cf-cli`](../packages/cf-cli)</br>[`golang`](../packages/golang)</br>[`smoke-tests`](../packages/smoke-tests)</br></br>Src:</br>[`logsearch-smoke-tests`](../src/github.com/cloudfoundry-community)</br></br>Run script:</br>[`run.erb`](../jobs/smoke-tests/templates/run.erb) | This is an __errand__ [job](../templates/stub.logsearch-for-cf.cf-kibana.yml#L39-L48).</br></br>Run as: `bosh -d <deployment.yml> run errand smoke-tests` |

**NOTE:** Job (a) is used in case of installing Kibana as CloudFoundry application. Jobs (b) are used to add Kibana authentication when using standalone Kibana instance provided by _Logsearch_ deployment.

</br>[<- prev page](features.md) | [next page ->](deployment.md)
