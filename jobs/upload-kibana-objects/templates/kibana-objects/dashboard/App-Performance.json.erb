<% require 'json' %>
<% if(p('cloudfoundry.firehose_events').include? 'LogMessage') %>
{
  "attributes": {
    "title": "App - Performance",
    "hits": 0,
    "description": "",
    "panelsJSON": "<%= JSON.parse(<<'ENDOFFJSON').to_json.gsub(/"/) { '\"' }
      [
        {
          "col": 1,
          "id": "App-RTR-request-count-(top-10-apps)",
          "panelIndex": 2,
          "row": 1,
          "size_x": 3,
          "size_y": 4,
          "type": "visualization"
        },
        {
          "col": 4,
          "id": "App-RTR-traffic-by-response_time_ms-(first-10-apps)",
          "panelIndex": 3,
          "row": 1,
          "size_x": 9,
          "size_y": 4,
          "type": "visualization"
        },
        {
          "col": 9,
          "id": "App-RTR-response-times",
          "panelIndex": 4,
          "row": 5,
          "size_x": 4,
          "size_y": 4,
          "type": "visualization"
        },
        {
          "col": 1,
          "id": "App-RTR-response-times-(50th-and-95th-first-10-apps)",
          "panelIndex": 5,
          "row": 5,
          "size_x": 8,
          "size_y": 4,
          "type": "visualization"
        },
        {
          "col": 1,
          "columns": [
            "@cf.app",
            "rtr.response_time_ms",
            "rtr.verb",
            "rtr.status",
            "rtr.path"
          ],
          "id": "app-rtr-long-response",
          "panelIndex": 6,
          "row": 9,
          "size_x": 12,
          "size_y": 4,
          "sort": [
            "@timestamp",
            "desc"
          ],
          "type": "search"
        }
      ]
ENDOFFJSON
  %>",
    "uiStateJSON": "<%= JSON.parse(<<'ENDOFFJSON').to_json.gsub(/"/) { '\"' }
      {

      }
ENDOFFJSON
  %>",
    "optionsJSON": "{\"darkTheme\":false}",
    "version": 1,
    "timeRestore": false,
    "kibanaSavedObjectMeta": {
      "searchSourceJSON": "<%= JSON.parse(<<'ENDOFFJSON').to_json.gsub(/"/) { '\"' }
      {
        "filter": [
          {
            "query": {
              "query_string": {
                "analyze_wildcard": true,
                "query": "*"
              }
            }
          }
        ]
      }
ENDOFFJSON
  %>"
    }
  }
}
<% end %>
